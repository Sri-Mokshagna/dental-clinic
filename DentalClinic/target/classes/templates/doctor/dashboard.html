<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Doctor Dashboard</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"/>
    <link rel="stylesheet" th:href="@{/css/styles.css}">
</head>
<body class="d-flex flex-column min-vh-100">

    <!-- Header -->
    <div th:replace="layout/header :: header"></div>

    <!-- Sidebar -->
    <div th:replace="layout/sidebar :: sidebar"></div>

    <!-- Main Content -->
    <main class="container mt-5">
        <h2 class="text-primary mb-4">👨‍⚕️ Doctor Dashboard</h2>
        <hr>

        <!-- Quick Actions -->
        <div class="d-flex flex-wrap gap-3 mb-4">
            <a th:href="@{/doctor/add-patient}" class="btn btn-primary">➕ Add Patient</a>
            <a th:href="@{/doctor/patients}" class="btn btn-success">👨‍⚕️ View Patients</a>
            <a th:href="@{/doctor/add-expense}" class="btn btn-warning">💰 Add Expense</a>
        </div>

        <!-- Today’s Appointments -->
        <h4 class="text-secondary mb-3">📅 Today’s Appointments</h4>
        <div th:if="${appointments != null and !appointments.isEmpty()}">
            <table class="table table-striped shadow-sm">
                <thead class="table-primary">
                    <tr>
                        <th>Patient</th>
                        <th>Reason</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="appt : ${appointments}">
                        <td th:text="${appt.patient.fullName}">John Doe</td>
                        

                        <td th:text="${appt.treatmentDetails}">Checkup</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div th:if="${appointments == null or appointments.isEmpty()}">
            <p class="text-muted">No appointments scheduled for today.</p>
        </div>

        <!-- Today’s Expenses -->
        <h4 class="text-secondary mt-5 mb-3">💰 Today’s Expenses</h4>
        <div th:if="${expenses != null and !expenses.isEmpty()}">
            <table class="table table-bordered shadow-sm">
                <thead class="table-warning">
                    <tr>
                        <th>Description</th>
                        <th>Amount</th>
                        <th>Date</th>
                    </tr>
                </thead>
                <tbody>
                    <tr th:each="exp : ${expenses}">
                        <td th:text="${exp.description}">Medicines</td>
                        <td th:text="${exp.amount}">500</td>
                        <td th:text="${exp.date}">2025-08-22</td>
                    </tr>
                </tbody>
            </table>
        </div>
        <div th:if="${expenses == null or expenses.isEmpty()}">
            <p class="text-muted">No expenses recorded for today.</p>
        </div>

    </main>

    <!-- Footer -->
    <div th:replace="layout/footer :: footer"></div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
